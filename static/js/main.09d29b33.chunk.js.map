{"version":3,"sources":["firebase.js","functions/auth.js","actions/types.js","App.js","reducers/userReducer.js","reducers/searchReducer.js","reducers/cartReducer.js","reducers/drawerReducer.js","reducers/couponReducer.js","reducers/CODReducer.js","reducers/index.js","index.js"],"names":["firebase","apps","length","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","auth","googleAuthProvider","GoogleAuthProvider","facebookAuthProvider","FacebookAuthProvider","createOrUpdateUser","authtoken","a","axios","post","process","headers","console","log","currentUser","LOGGED_IN_USER","LOGOUT","SEARCH_QUERY","ADD_TO_CART","SET_VISIBLE","COUPON_APPLIED","CASH_ON_DELIVERY","Login","lazy","Register","Home","Header","RegisterComplete","ForgotPassword","History","UserRoute","AdminRoute","Wishlist","Password","AdminDashboard","CategoryCreate","CategoryUpdate","SubCreate","SubUpdate","ProductCreate","AllProducts","ProductUpdate","Product","CategoryHome","SubHome","Shop","Cart","SideDrawer","Checkout","CouponCreatePage","Payment","App","dispatch","useDispatch","useEffect","unsubscribe","onAuthStateChanged","user","getIdTokenResult","idTokenResult","token","res","type","payload","name","data","email","role","_id","fallback","className","LoadingOutlined","exact","path","component","userReducer","state","action","searchReducer","text","initialState","window","localStorage","getItem","JSON","parse","cartReducer","drawerReducer","couponReducer","cashReducer","rootReducer","combineReducers","search","cart","drawer","coupon","COD","middlewares","thunk","store","createStore","composeWithDevTools","applyMiddleware","ReactDOM","render","basename","document","getElementById"],"mappings":"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","file":"static/js/main.09d29b33.chunk.js","sourcesContent":["import firebase from 'firebase/app';\r\nimport 'firebase/auth';\r\nconst firebaseConfig = {\r\n  apiKey: 'AIzaSyDEIwNd9kHHYmeF1P9CFW19RFxixkjO1jo',\r\n  authDomain: 'e-commerce-8a624.firebaseapp.com',\r\n  projectId: 'e-commerce-8a624',\r\n  storageBucket: 'e-commerce-8a624.appspot.com',\r\n  messagingSenderId: '39425740559',\r\n  appId: '1:39425740559:web:8d38a6a1c67483ff32b87a',\r\n};\r\n// Initialize Firebase\r\n\r\nif (!firebase.apps.length) {\r\n  firebase.initializeApp(firebaseConfig);\r\n}\r\n\r\n//export\r\nexport const auth = firebase.auth();\r\nexport const googleAuthProvider = new firebase.auth.GoogleAuthProvider();\r\nexport const facebookAuthProvider = new firebase.auth.FacebookAuthProvider();\r\n","import axios from 'axios';\r\n\r\nexport const createOrUpdateUser = async (authtoken) => {\r\n  try {\r\n    return await axios.post(\r\n      `${process.env.REACT_APP_API}/create-or-update-user`,\r\n      {},\r\n      {\r\n        headers: {\r\n          authtoken,\r\n        },\r\n      }\r\n    );\r\n  } catch (error) {\r\n    console.log(error);\r\n  }\r\n};\r\n\r\nexport const currentUser = async (authtoken) => {\r\n  try {\r\n    return await axios.post(\r\n      `${process.env.REACT_APP_API}/current-user`,\r\n      {},\r\n      {\r\n        headers: {\r\n          authtoken,\r\n        },\r\n      }\r\n    );\r\n  } catch (error) {\r\n    console.log(error);\r\n  }\r\n};\r\n\r\nexport const currentAdmin = async (authtoken) => {\r\n  try {\r\n    return await axios.post(\r\n      `${process.env.REACT_APP_API}/current-admin`,\r\n      {},\r\n      {\r\n        headers: {\r\n          authtoken,\r\n        },\r\n      }\r\n    );\r\n  } catch (error) {\r\n    console.log(error);\r\n  }\r\n};\r\n","export const LOGGED_IN_USER = 'LOGGED_IN_USER';\r\nexport const LOGOUT = 'LOGOUT';\r\n\r\nexport const SEARCH_QUERY = 'SEARCH_QUERY';\r\n\r\nexport const ADD_TO_CART = 'ADD_TO_CART';\r\n\r\nexport const SET_VISIBLE = 'SET_VISIBLE';\r\n\r\nexport const COUPON_APPLIED = 'COUPON_APPLIED';\r\nexport const CASH_ON_DELIVERY = 'CASH_ON_DELIVERY';\r\n","import React, { useEffect, lazy, Suspense } from 'react';\nimport { Switch, Route } from 'react-router-dom';\nimport { ToastContainer } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport { useDispatch } from 'react-redux';\n\nimport './App.css';\nimport { auth } from './firebase';\nimport { LOGGED_IN_USER } from './actions/types';\nimport { currentUser } from './functions/auth';\nimport { LoadingOutlined } from '@ant-design/icons';\n\n//Using lazy to import components\nconst Login = lazy(() => import('./pages/auth/Login'));\nconst Register = lazy(() => import('./pages/auth/Register'));\nconst Home = lazy(() => import('./pages/Home'));\nconst Header = lazy(() => import('./components/nav/Header'));\nconst RegisterComplete = lazy(() => import('./pages/auth/RegisterComplete'));\nconst ForgotPassword = lazy(() => import('./pages/auth/ForgotPassword'));\nconst History = lazy(() => import('./pages/user/History'));\nconst UserRoute = lazy(() => import('./components/routes/UserRoute'));\nconst AdminRoute = lazy(() => import('./components/routes/AdminRoute'));\nconst Wishlist = lazy(() => import('./pages/user/WishList'));\nconst Password = lazy(() => import('./pages/user/Password'));\nconst AdminDashboard = lazy(() => import('./pages/admin/AdminDashboard'));\nconst CategoryCreate = lazy(() =>\n  import('./pages/admin/category/CategoryCreate')\n);\nconst CategoryUpdate = lazy(() =>\n  import('./pages/admin/category/CategoryUpdate')\n);\nconst SubCreate = lazy(() => import('./pages/admin/sub/SubCreate'));\nconst SubUpdate = lazy(() => import('./pages/admin/sub/SubUpdate'));\nconst ProductCreate = lazy(() => import('./pages/admin/product/ProductCreate'));\nconst AllProducts = lazy(() => import('./pages/admin/product/AllProducts'));\nconst ProductUpdate = lazy(() => import('./pages/admin/product/ProductUpdate'));\nconst Product = lazy(() => import('./pages/Product'));\nconst CategoryHome = lazy(() => import('./pages/category/CategoryHome'));\nconst SubHome = lazy(() => import('./pages/sub/SubHome'));\nconst Shop = lazy(() => import('./pages/Shop'));\nconst Cart = lazy(() => import('./pages/Cart'));\nconst SideDrawer = lazy(() => import('./components/drawer/SideDrawer'));\nconst Checkout = lazy(() => import('./pages/Checkout'));\nconst CouponCreatePage = lazy(() =>\n  import('./pages/admin/coupon/CouponCreate')\n);\nconst Payment = lazy(() => import('./pages/Payment'));\n\nconst App = () => {\n  const dispatch = useDispatch();\n  //check firebase auth state for current logged in user\n  useEffect(() => {\n    const unsubscribe = auth.onAuthStateChanged(async (user) => {\n      if (user) {\n        try {\n          const idTokenResult = await user.getIdTokenResult();\n          //sending token to backend to check for currentUser, get data and save it in redux store\n          const res = await currentUser(idTokenResult.token);\n          //update global store\n          dispatch({\n            type: LOGGED_IN_USER,\n            payload: {\n              name: res.data.name,\n              email: res.data.email,\n              token: idTokenResult.token,\n              role: res.data.role,\n              _id: res.data._id,\n            },\n          });\n        } catch (error) {\n          console.log(error);\n        }\n      }\n    });\n    //clean up\n    return () => unsubscribe();\n  }, [dispatch]);\n\n  return (\n    <Suspense\n      fallback={\n        <div className='col text-center p-5'>\n          __ECAREACT\n          <LoadingOutlined />\n          __\n        </div>\n      }\n    >\n      <Header />\n      <ToastContainer />\n      <SideDrawer />\n      <Switch>\n        <Route exact path='/' component={Home} />\n        <Route exact path='/login' component={Login} />\n        <Route exact path='/register' component={Register} />\n        <Route exact path='/register/complete' component={RegisterComplete} />\n        <Route exact path='/forgot/password' component={ForgotPassword} />\n        <Route exact path='/product/:slug' component={Product} />\n        <Route exact path='/category/:slug' component={CategoryHome} />\n        <Route exact path='/sub/:slug' component={SubHome} />\n        <Route exact path='/shop' component={Shop} />\n        <Route exact path='/cart' component={Cart} />\n        <Route exact path='/checkout' component={Checkout} />\n        <Route exact path='/payment' component={Payment} />\n\n        {/* LoggedIn User route */}\n        <UserRoute exact path='/user/history' component={History} />\n        <UserRoute exact path='/user/password' component={Password} />\n        <UserRoute exact path='/user/wishlist' component={Wishlist} />\n        {/* for AdminRoute */}\n        <AdminRoute exact path='/admin/dashboard' component={AdminDashboard} />\n        <AdminRoute exact path='/admin/category' component={CategoryCreate} />\n        <AdminRoute\n          exact\n          path='/admin/category/:slug'\n          component={CategoryUpdate}\n        />\n        <AdminRoute exact path='/admin/sub' component={SubCreate} />\n        <AdminRoute exact path='/admin/sub/:slug' component={SubUpdate} />\n        <AdminRoute exact path='/admin/product' component={ProductCreate} />\n        <AdminRoute exact path='/admin/products' component={AllProducts} />\n        <AdminRoute\n          exact\n          path='/admin/product/:slug'\n          component={ProductUpdate}\n        />\n        <AdminRoute exact path='/admin/coupon' component={CouponCreatePage} />\n      </Switch>\n    </Suspense>\n  );\n};\n\nexport default App;\n","import { LOGGED_IN_USER, LOGOUT } from '../actions/types';\r\n\r\nconst userReducer = (state = null, action) => {\r\n  const { type, payload } = action;\r\n\r\n  switch (type) {\r\n    case LOGGED_IN_USER:\r\n      return payload;\r\n\r\n    case LOGOUT:\r\n      return payload;\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default userReducer;\r\n","import { SEARCH_QUERY } from '../actions/types';\r\n\r\nconst searchReducer = (state = { text: '' }, action) => {\r\n  const { type, payload } = action;\r\n\r\n  switch (type) {\r\n    case SEARCH_QUERY:\r\n      return { ...state, ...payload };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default searchReducer;\r\n","import { ADD_TO_CART } from '../actions/types';\r\n\r\nlet initialState = [];\r\n\r\n//load cart items from localStorage\r\nif (typeof window !== 'undefined') {\r\n  if (localStorage.getItem('cart')) {\r\n    initialState = JSON.parse(localStorage.getItem('cart'));\r\n  }\r\n}\r\n\r\nconst cartReducer = (state = initialState, action) => {\r\n  const { type, payload } = action;\r\n\r\n  switch (type) {\r\n    case ADD_TO_CART:\r\n      return payload;\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default cartReducer;\r\n","import { SET_VISIBLE } from '../actions/types';\r\n\r\nconst drawerReducer = (state = false, action) => {\r\n  const { type, payload } = action;\r\n\r\n  switch (type) {\r\n    case SET_VISIBLE:\r\n      return payload;\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default drawerReducer;\r\n","import { COUPON_APPLIED } from '../actions/types';\r\n\r\nconst couponReducer = (state = false, action) => {\r\n  const { type, payload } = action;\r\n\r\n  switch (type) {\r\n    case COUPON_APPLIED:\r\n      return payload;\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default couponReducer;\r\n","import { CASH_ON_DELIVERY } from '../actions/types';\r\n\r\nconst cashReducer = (state = false, action) => {\r\n  const { type, payload } = action;\r\n\r\n  switch (type) {\r\n    case CASH_ON_DELIVERY:\r\n      return payload;\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default cashReducer;\r\n","import { combineReducers } from 'redux';\r\nimport userReducer from './userReducer';\r\nimport searchReducer from './searchReducer';\r\nimport cartReducer from './cartReducer';\r\nimport drawerReducer from './drawerReducer';\r\nimport couponReducer from './couponReducer';\r\nimport cashReducer from './CODReducer';\r\n\r\nconst rootReducer = combineReducers({\r\n  user: userReducer,\r\n  search: searchReducer,\r\n  cart: cartReducer,\r\n  drawer: drawerReducer,\r\n  coupon: couponReducer,\r\n  COD: cashReducer,\r\n});\r\n\r\nexport default rootReducer;\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter as Router } from 'react-router-dom';\nimport 'antd/dist/antd.css';\nimport { createStore, applyMiddleware } from 'redux';\nimport { Provider } from 'react-redux';\nimport { composeWithDevTools } from 'redux-devtools-extension';\nimport thunk from 'redux-thunk';\n\nimport App from './App';\nimport rootReducer from './reducers';\n\n//store\nconst initialState = {};\nconst middlewares = [thunk];\nconst store = createStore(\n  rootReducer,\n  initialState,\n  composeWithDevTools(applyMiddleware(...middlewares))\n);\n\nReactDOM.render(\n  <Provider store={store}>\n    <Router basename={process.env.PUBLIC_URL}>\n      <App />\n    </Router>\n  </Provider>,\n\n  document.getElementById('root')\n);\n"],"sourceRoot":""}