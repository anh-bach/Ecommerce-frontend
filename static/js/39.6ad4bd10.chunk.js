(this["webpackJsonpecommerce-client"]=this["webpackJsonpecommerce-client"]||[]).push([[39],{1172:function(e,t,r){"use strict";r.r(t);var n=r(13),c=r.n(n),a=r(14),s=r(0),o=r(23),u=r(28),i=r(6),p=r(1136),h=r(41),l=r(544),d=r(545),j=r(1177),b=r(126),f=r(2),m=function(e){var t=e.product,r=t.images,n=t.title,c=t.price,a=t.brand,s=t.color,u=t.shipping,m=t.count,x=Object(o.b)();return Object(f.jsxs)("tr",{children:[Object(f.jsx)("td",{children:Object(f.jsx)("div",{style:{width:"100px",height:"auto"},children:r&&r.length>0?Object(f.jsx)(p.a,{small:r[0].url,large:r[0].url}):Object(f.jsx)(p.a,{small:b.a,large:b.a})})}),Object(f.jsx)("td",{children:n}),Object(f.jsx)("td",{children:c}),Object(f.jsx)("td",{children:a}),Object(f.jsx)("td",{children:Object(f.jsxs)("select",{onChange:function(e){return function(e,t){var r=[];"undefined"!==typeof window&&(localStorage.getItem("cart")&&(r=JSON.parse(localStorage.getItem("cart"))),r.length>0&&r.forEach((function(r){r._id===t._id&&(r.color=e.target.value)})),localStorage.setItem("cart",JSON.stringify(r)),x({type:i.a,payload:r}))}(e,t)},name:"color",className:"form-control",children:[s?Object(f.jsx)("option",{value:s,children:s}):Object(f.jsx)("option",{children:"Select"}),["Black","Brown","Silver","White","Blue"].filter((function(e){return e!==s})).map((function(e){return Object(f.jsx)("option",{value:e,children:e},e)}))]})}),Object(f.jsx)("td",{children:Object(f.jsx)("input",{type:"number",className:"form-control text-center",name:"count",value:m,onChange:function(e){return function(e,t){var r=[],n=e.target.value<1?1:e.target.value;n>t.quantity?h.b.error("Max available quantity: ".concat(t.quantity)):"undefined"!==typeof window&&(localStorage.getItem("cart")&&(r=JSON.parse(localStorage.getItem("cart"))),r.length>0&&r.forEach((function(e){e._id===t._id&&(e.count=n)})),localStorage.setItem("cart",JSON.stringify(r)),x({type:i.a,payload:r}))}(e,t)}})}),Object(f.jsx)("td",{className:"text-center",children:"Yes"===u?Object(f.jsx)(l.a,{className:"text-success"}):Object(f.jsx)(d.a,{className:"text-danger"})}),Object(f.jsx)("td",{className:"text-center",children:Object(f.jsx)(j.a,{className:"text-danger pointer",onClick:function(){return function(e){var t=[];"undefined"!==typeof window&&(localStorage.getItem("cart")&&(t=JSON.parse(localStorage.getItem("cart"))),t.length>0&&t.forEach((function(r,n){r._id===e._id&&t.splice(n,1)})),localStorage.setItem("cart",JSON.stringify(t)),x({type:i.a,payload:t}))}(t)}})})]})},x=r(150);t.default=function(e){var t=e.history,r=Object(o.c)((function(e){return e})),n=r.cart,p=r.user,h=Object(o.b)(),l=function(){var e=Object(a.a)(c.a.mark((function e(r,n){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(x.k)(r,n);case 3:e.sent.data.ok&&t.push("/checkout"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log("From saveOrderToDb",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,r){return e.apply(this,arguments)}}(),d=function(){var e=Object(a.a)(c.a.mark((function e(r,n){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,h({type:i.b,payload:!0}),e.next=4,Object(x.k)(r,n);case 4:e.sent.data.ok&&t.push("/checkout"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log("From saveCashOrderToDb",e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,r){return e.apply(this,arguments)}}();return Object(f.jsx)("div",{className:"container-fluid pt-2",children:Object(f.jsxs)("div",{className:"row",children:[Object(f.jsxs)("div",{className:"col-md-8",children:[Object(f.jsxs)("h4",{children:["Card / ",n.length," Products"]}),n.length>0?Object(f.jsxs)("table",{className:"table table-bordered",children:[Object(f.jsx)("thead",{className:"thead-light",children:Object(f.jsxs)("tr",{children:[Object(f.jsx)("th",{scope:"col",children:"Image"}),Object(f.jsx)("th",{scope:"col",children:"Title"}),Object(f.jsx)("th",{scope:"col",children:"Price"}),Object(f.jsx)("th",{scope:"col",children:"Brand"}),Object(f.jsx)("th",{scope:"col",children:"Color"}),Object(f.jsx)("th",{scope:"col",children:"Count"}),Object(f.jsx)("th",{scope:"col",children:"Shipping"}),Object(f.jsx)("th",{scope:"col",children:"Remove"})]})}),Object(f.jsx)("tbody",{children:n.length>0&&n.map((function(e){return Object(f.jsx)(m,{product:e},e._id)}))})]}):Object(f.jsxs)("p",{children:["No products in cart. ",Object(f.jsx)(u.b,{to:"/shop",children:"Continue Shopping"})]})]}),Object(f.jsxs)("div",{className:"col-md-4",children:[Object(f.jsx)("h4",{children:"Order Summary"}),Object(f.jsx)("hr",{}),Object(f.jsx)("p",{children:"Products"}),n.length>0&&n.map((function(e,t){return Object(f.jsx)("div",{children:Object(f.jsxs)("p",{children:[e.title," x ",e.count," = $",e.count*e.price]})},t)})),Object(f.jsx)("hr",{}),Object(f.jsxs)("div",{children:["Total: ",Object(f.jsxs)("b",{children:["$",function(e){return e.reduce((function(e,t){return e+t.count*t.price}),0)}(n)]})]}),Object(f.jsx)("hr",{}),p?Object(f.jsxs)(s.Fragment,{children:[Object(f.jsx)("button",{onClick:function(){return l(n,p.token)},className:"btn btn-sm btn-primary mt-2",disabled:!n.length,children:"Proceed to Checkout"}),Object(f.jsx)("button",{onClick:function(){return d(n,p.token)},className:"btn btn-sm btn-danger mt-2",disabled:!n.length,children:"Pay Cash on Delivery"})]}):Object(f.jsx)("button",{className:"btn btn-sm btn-primary mt-2",children:Object(f.jsx)(u.b,{to:{pathname:"/login",state:{from:"cart"}},children:"Login to Checkout"})})]})]})})}},126:function(e,t,r){"use strict";t.a=r.p+"static/media/laptop.db0a6ff4.png"},150:function(e,t,r){"use strict";r.d(t,"k",(function(){return u})),r.d(t,"f",(function(){return i})),r.d(t,"e",(function(){return p})),r.d(t,"j",(function(){return h})),r.d(t,"b",(function(){return l})),r.d(t,"d",(function(){return d})),r.d(t,"c",(function(){return j})),r.d(t,"g",(function(){return b})),r.d(t,"h",(function(){return f})),r.d(t,"a",(function(){return m})),r.d(t,"i",(function(){return x}));var n=r(13),c=r.n(n),a=r(14),s=r(25),o=r.n(s),u=function(){var e=Object(a.a)(c.a.mark((function e(t,r){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.post("".concat("https://mern-ecommerce-server-anh.herokuapp.com/api","/user/cart"),{cart:t},{headers:{authToken:r}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),i=function(){var e=Object(a.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.get("".concat("https://mern-ecommerce-server-anh.herokuapp.com/api","/user/cart"),{headers:{authToken:t}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),p=function(){var e=Object(a.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.delete("".concat("https://mern-ecommerce-server-anh.herokuapp.com/api","/user/cart"),{headers:{authToken:t}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),h=function(){var e=Object(a.a)(c.a.mark((function e(t,r){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.post("".concat("https://mern-ecommerce-server-anh.herokuapp.com/api","/user/address"),{address:r},{headers:{authToken:t}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),l=function(){var e=Object(a.a)(c.a.mark((function e(t,r){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.post("".concat("https://mern-ecommerce-server-anh.herokuapp.com/api","/user/cart/coupon"),{coupon:r},{headers:{authToken:t}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),d=function(){var e=Object(a.a)(c.a.mark((function e(t,r){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.post("".concat("https://mern-ecommerce-server-anh.herokuapp.com/api","/user/order"),{stripeResponse:r},{headers:{authToken:t}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),j=function(){var e=Object(a.a)(c.a.mark((function e(t,r,n){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.post("".concat("https://mern-ecommerce-server-anh.herokuapp.com/api","/user/cash-order"),{COD:r,couponApplied:n},{headers:{authToken:t}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}(),b=function(){var e=Object(a.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.get("".concat("https://mern-ecommerce-server-anh.herokuapp.com/api","/user/orders"),{headers:{authToken:t}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),f=function(){var e=Object(a.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.get("".concat("https://mern-ecommerce-server-anh.herokuapp.com/api","/user/wishlist"),{headers:{authToken:t}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),m=function(){var e=Object(a.a)(c.a.mark((function e(t,r){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.post("".concat("https://mern-ecommerce-server-anh.herokuapp.com/api","/user/wishlist"),{productId:r},{headers:{authToken:t}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),x=function(){var e=Object(a.a)(c.a.mark((function e(t,r){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.put("".concat("https://mern-ecommerce-server-anh.herokuapp.com/api","/user/wishlist/").concat(r),{},{headers:{authToken:t}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()}}]);
//# sourceMappingURL=39.6ad4bd10.chunk.js.map